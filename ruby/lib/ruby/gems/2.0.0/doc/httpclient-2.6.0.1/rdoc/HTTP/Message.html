<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class HTTP::Message - httpclient-2.6.0.1 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/httpclient/http.rb
    <li>lib/httpclient/session.rb
    <li>lib/oauthclient.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-file-3F">::file?</a>
    
    <li ><a href="#method-c-get_mime_type_func">::get_mime_type_func</a>
    
    <li ><a href="#method-c-internal_mime_type">::internal_mime_type</a>
    
    <li ><a href="#method-c-keep_alive_enabled-3F">::keep_alive_enabled?</a>
    
    <li ><a href="#method-c-mime_type_handler">::mime_type_handler</a>
    
    <li ><a href="#method-c-mime_type_handler-3D">::mime_type_handler=</a>
    
    <li ><a href="#method-c-multiparam_query-3F">::multiparam_query?</a>
    
    <li ><a href="#method-c-new_connect_request">::new_connect_request</a>
    
    <li ><a href="#method-c-new_request">::new_request</a>
    
    <li ><a href="#method-c-new_response">::new_response</a>
    
    <li ><a href="#method-c-parse">::parse</a>
    
    <li ><a href="#method-c-set_mime_type_func">::set_mime_type_func</a>
    
    <li ><a href="#method-c-unescape">::unescape</a>
    
    <li ><a href="#method-i-body">#body</a>
    
    <li ><a href="#method-i-body-3D">#body=</a>
    
    <li ><a href="#method-i-body_encoding">#body_encoding</a>
    
    <li ><a href="#method-i-code">#code</a>
    
    <li ><a href="#method-i-content">#content</a>
    
    <li ><a href="#method-i-content_type">#content_type</a>
    
    <li ><a href="#method-i-content_type-3D">#content_type=</a>
    
    <li ><a href="#method-i-contenttype">#contenttype</a>
    
    <li ><a href="#method-i-contenttype-3D">#contenttype=</a>
    
    <li ><a href="#method-i-cookies">#cookies</a>
    
    <li ><a href="#method-i-dump">#dump</a>
    
    <li ><a href="#method-i-headers">#headers</a>
    
    <li ><a href="#method-i-http_body-3D">#http_body=</a>
    
    <li ><a href="#method-i-http_version">#http_version</a>
    
    <li ><a href="#method-i-http_version-3D">#http_version=</a>
    
    <li ><a href="#method-i-ok-3F">#ok?</a>
    
    <li ><a href="#method-i-reason">#reason</a>
    
    <li ><a href="#method-i-reason-3D">#reason=</a>
    
    <li ><a href="#method-i-redirect-3F">#redirect?</a>
    
    <li ><a href="#method-i-see_other-3F">#see_other?</a>
    
    <li ><a href="#method-i-status">#status</a>
    
    <li ><a href="#method-i-status-3D">#status=</a>
    
    <li ><a href="#method-i-status_code">#status_code</a>
    
    <li ><a href="#method-i-version">#version</a>
    
    <li ><a href="#method-i-version-3D">#version=</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../lib/httpclient/cacert_p7s.html">cacert.p7s</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Encoding.html">Encoding</a>
  
    <li><a href="../HTTP.html">HTTP</a>
  
    <li><a href="../HTTP/Message.html">HTTP::Message</a>
  
    <li><a href="../HTTP/Message/Array.html">HTTP::Message::Array</a>
  
    <li><a href="../HTTP/Message/Body.html">HTTP::Message::Body</a>
  
    <li><a href="../HTTP/Message/Body/Parts.html">HTTP::Message::Body::Parts</a>
  
    <li><a href="../HTTP/Message/Headers.html">HTTP::Message::Headers</a>
  
    <li><a href="../HTTP/Status.html">HTTP::Status</a>
  
    <li><a href="../HTTPAccess2.html">HTTPAccess2</a>
  
    <li><a href="../HTTPAccess2/Client.html">HTTPAccess2::Client</a>
  
    <li><a href="../HTTPAccess2/Client/RetryableResponse.html">HTTPAccess2::Client::RetryableResponse</a>
  
    <li><a href="../HTTPAccess2/Session.html">HTTPAccess2::Session</a>
  
    <li><a href="../HTTPAccess2/Session/BadResponse.html">HTTPAccess2::Session::BadResponse</a>
  
    <li><a href="../HTTPAccess2/Session/Error.html">HTTPAccess2::Session::Error</a>
  
    <li><a href="../HTTPAccess2/Session/InvalidState.html">HTTPAccess2::Session::InvalidState</a>
  
    <li><a href="../HTTPAccess2/Session/KeepAliveDisconnected.html">HTTPAccess2::Session::KeepAliveDisconnected</a>
  
    <li><a href="../HTTPClient.html">HTTPClient</a>
  
    <li><a href="../HTTPClient/AuthBase.html">HTTPClient::AuthBase</a>
  
    <li><a href="../HTTPClient/AuthFilterBase.html">HTTPClient::AuthFilterBase</a>
  
    <li><a href="../HTTPClient/BadResponse.html">HTTPClient::BadResponse</a>
  
    <li><a href="../HTTPClient/BadResponseError.html">HTTPClient::BadResponseError</a>
  
    <li><a href="../HTTPClient/BasicAuth.html">HTTPClient::BasicAuth</a>
  
    <li><a href="../HTTPClient/ConfigurationError.html">HTTPClient::ConfigurationError</a>
  
    <li><a href="../HTTPClient/ConnectTimeoutError.html">HTTPClient::ConnectTimeoutError</a>
  
    <li><a href="../HTTPClient/Connection.html">HTTPClient::Connection</a>
  
    <li><a href="../HTTPClient/CookieManager.html">HTTPClient::CookieManager</a>
  
    <li><a href="../HTTPClient/DebugSocket.html">HTTPClient::DebugSocket</a>
  
    <li><a href="../HTTPClient/DigestAuth.html">HTTPClient::DigestAuth</a>
  
    <li><a href="../HTTPClient/IncludeClient.html">HTTPClient::IncludeClient</a>
  
    <li><a href="../HTTPClient/KeepAliveDisconnected.html">HTTPClient::KeepAliveDisconnected</a>
  
    <li><a href="../HTTPClient/LoopBackSocket.html">HTTPClient::LoopBackSocket</a>
  
    <li><a href="../HTTPClient/NegotiateAuth.html">HTTPClient::NegotiateAuth</a>
  
    <li><a href="../HTTPClient/OAuth.html">HTTPClient::OAuth</a>
  
    <li><a href="../HTTPClient/OAuth/Config.html">HTTPClient::OAuth::Config</a>
  
    <li><a href="../HTTPClient/ProxyAuth.html">HTTPClient::ProxyAuth</a>
  
    <li><a href="../HTTPClient/ProxyBasicAuth.html">HTTPClient::ProxyBasicAuth</a>
  
    <li><a href="../HTTPClient/ProxyDigestAuth.html">HTTPClient::ProxyDigestAuth</a>
  
    <li><a href="../HTTPClient/ReceiveTimeoutError.html">HTTPClient::ReceiveTimeoutError</a>
  
    <li><a href="../HTTPClient/RetryableResponse.html">HTTPClient::RetryableResponse</a>
  
    <li><a href="../HTTPClient/SSLConfig.html">HTTPClient::SSLConfig</a>
  
    <li><a href="../HTTPClient/SSLSocketWrap.html">HTTPClient::SSLSocketWrap</a>
  
    <li><a href="../HTTPClient/SSPINegotiateAuth.html">HTTPClient::SSPINegotiateAuth</a>
  
    <li><a href="../HTTPClient/SendTimeoutError.html">HTTPClient::SendTimeoutError</a>
  
    <li><a href="../HTTPClient/Session.html">HTTPClient::Session</a>
  
    <li><a href="../HTTPClient/SessionManager.html">HTTPClient::SessionManager</a>
  
    <li><a href="../HTTPClient/Site.html">HTTPClient::Site</a>
  
    <li><a href="../HTTPClient/SocketWrap.html">HTTPClient::SocketWrap</a>
  
    <li><a href="../HTTPClient/Timeout.html">HTTPClient::Timeout</a>
  
    <li><a href="../HTTPClient/TimeoutError.html">HTTPClient::TimeoutError</a>
  
    <li><a href="../HTTPClient/TimeoutScheduler.html">HTTPClient::TimeoutScheduler</a>
  
    <li><a href="../HTTPClient/TimeoutScheduler/Period.html">HTTPClient::TimeoutScheduler::Period</a>
  
    <li><a href="../HTTPClient/Util.html">HTTPClient::Util</a>
  
    <li><a href="../HTTPClient/Util/Addressable.html">HTTPClient::Util::Addressable</a>
  
    <li><a href="../HTTPClient/Util/AddressableURI.html">HTTPClient::Util::AddressableURI</a>
  
    <li><a href="../HTTPClient/WWWAuth.html">HTTPClient::WWWAuth</a>
  
    <li><a href="../HTTPClient/WebAgentSaver.html">HTTPClient::WebAgentSaver</a>
  
    <li><a href="../HexDump.html">HexDump</a>
  
    <li><a href="../JSONClient.html">JSONClient</a>
  
    <li><a href="../OAuthClient.html">OAuthClient</a>
  
    <li><a href="../String.html">String</a>
  
    <li><a href="../URI.html">URI</a>
  
    <li><a href="../URI/Generic.html">URI::Generic</a>
  
    <li><a href="../WebAgent.html">WebAgent</a>
  
    <li><a href="../WebAgent/Cookie.html">WebAgent::Cookie</a>
  
    <li><a href="../WebAgent/CookieManager.html">WebAgent::CookieManager</a>
  
    <li><a href="../WebAgent/CookieManager/Error.html">WebAgent::CookieManager::Error</a>
  
    <li><a href="../WebAgent/CookieManager/ErrorOverrideOK.html">WebAgent::CookieManager::ErrorOverrideOK</a>
  
    <li><a href="../WebAgent/CookieManager/SpecialError.html">WebAgent::CookieManager::SpecialError</a>
  
    <li><a href="../WebAgent/CookieUtils.html">WebAgent::CookieUtils</a>
  
    <li><a href="../WebAgent/SynchronizedArray.html">WebAgent::SynchronizedArray</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class HTTP::Message</h1>

  <div id="description" class="description">
    
<p>Represents a <a href="../HTTP.html">HTTP</a> message.  A message is for a
request or a response.</p>

<p>Request message is generated from given parameters internally so users
don&#39;t need to care about it.  Response message is the instance that
methods of <a href="../HTTPClient.html">HTTPClient</a> returns so users
need to know how to extract <a href="../HTTP.html">HTTP</a> response data
from <a href="Message.html">Message</a>.</p>

<p>Some attributes are only for a request or a response, not both.</p>

<h2 id="label-How+to+use+HTTP+response+message">How to use <a href="../HTTP.html">HTTP</a> response message<span><a href="#label-How+to+use+HTTP+response+message">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ol><li>
<p>Gets response message body.</p>

<pre class="ruby"><span class="ruby-identifier">res</span> = <span class="ruby-identifier">clnt</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">url</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">content</span> <span class="ruby-comment">#=&gt; String</span>
</pre>
</li><li>
<p>Gets response status code.</p>

<pre class="ruby"><span class="ruby-identifier">res</span> = <span class="ruby-identifier">clnt</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">url</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">status</span> <span class="ruby-comment">#=&gt; 200, 501, etc. (Integer)</span>
</pre>
</li><li>
<p>Gets response header.</p>

<pre class="ruby"><span class="ruby-identifier">res</span> = <span class="ruby-identifier">clnt</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">url</span>)
<span class="ruby-identifier">res</span>.<span class="ruby-identifier">header</span>[<span class="ruby-string">&#39;set-cookie&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">res</span>.<span class="ruby-identifier">header</span>[<span class="ruby-string">&#39;last-modified&#39;</span>].<span class="ruby-identifier">size</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">header</span>[<span class="ruby-string">&#39;last-modified&#39;</span>].<span class="ruby-identifier">first</span>
</pre>
</li></ol>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="CRLF">CRLF
        
        <dd class="description">
        
      
        <dt id="VERSION_WARNING">VERSION_WARNING
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-header" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">header</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <dl class="rdoc-list note-list"><dt><a href="Message/Headers.html">HTTP::Message::Headers</a>
<dd>
<p>message header.</p>
</dd></dl>
        
        </div>
      </div>
      
      <div id="attribute-i-http_body" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">http_body</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <dl class="rdoc-list note-list"><dt><a href="Message/Body.html">HTTP::Message::Body</a>
<dd>
<p>message body.</p>
</dd></dl>
        
        </div>
      </div>
      
      <div id="attribute-i-http_header" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">http_header</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <dl class="rdoc-list note-list"><dt><a href="Message/Headers.html">HTTP::Message::Headers</a>
<dd>
<p>message header.</p>
</dd></dl>
        
        </div>
      </div>
      
      <div id="attribute-i-oauth_params" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">oauth_params</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-peer_cert" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">peer_cert</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <dl class="rdoc-list note-list"><dt>OpenSSL::X509::Certificate
<dd>
<p>response only.  server certificate which is used for retrieving the
response.</p>
</dd></dl>
        
        </div>
      </div>
      
      <div id="attribute-i-previous" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">previous</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The other <a href="Message.html">Message</a> object when this <a
href="Message.html">Message</a> is generated instead of the <a
href="Message.html">Message</a> because of redirection, negotiation, or
format conversion.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-file-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">file?</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if the given object is a File.  In <a
href="../HTTPClient.html">HTTPClient</a>, a file is;</p>
<ul><li>
<p>must respond to :read for retrieving <a href="../String.html">String</a>
chunks.</p>
</li><li>
<p>must respond to :pos and :pos= to rewind for reading. Rewinding is only
needed for following <a href="../HTTP.html">HTTP</a> redirect.  Some IO
impl defines :pos= but raises an Exception for pos= such as StringIO but
there&#39;s no problem as far as using it for non-following methods
(get/post/etc.)</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="file-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 841</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file?</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:read</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:pos</span>) <span class="ruby-keyword">and</span>
    <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:pos=</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- file-3F-source -->
          
        </div>

        

        
      </div><!-- file-3F-method -->

    
      <div id="method-c-get_mime_type_func" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">get_mime_type_func</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-c-mime_type_handler">mime_type_handler</a>
        </div>
        
      </div><!-- get_mime_type_func-method -->

    
      <div id="method-c-internal_mime_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">internal_mime_type</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Default MIME type handler. See <a
href="Message.html#method-c-mime_type_handler">::mime_type_handler</a>=.</p>
          
          

          
          <div class="method-source-code" id="internal_mime_type-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 804</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">internal_mime_type</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.txt$/</span>
    <span class="ruby-string">&#39;text/plain&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.(htm|html)$/</span>
    <span class="ruby-string">&#39;text/html&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.doc$/</span>
    <span class="ruby-string">&#39;application/msword&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.png$/</span>
    <span class="ruby-string">&#39;image/png&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.gif$/</span>
    <span class="ruby-string">&#39;image/gif&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\.(jpg|jpeg)$/</span>
    <span class="ruby-string">&#39;image/jpeg&#39;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&#39;application/octet-stream&#39;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- internal_mime_type-source -->
          
        </div>

        

        
      </div><!-- internal_mime_type-method -->

    
      <div id="method-c-keep_alive_enabled-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keep_alive_enabled?</span><span
            class="method-args">(version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if the given <a href="../HTTP.html">HTTP</a> version allows
keep alive connection.</p>
<dl class="rdoc-list note-list"><dt>version
<dd>
<p><a href="../String.html">String</a></p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="keep_alive_enabled-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 825</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keep_alive_enabled?</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-string">&#39;1.1&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- keep_alive_enabled-3F-source -->
          
        </div>

        

        
      </div><!-- keep_alive_enabled-3F-method -->

    
      <div id="method-c-mime_type_handler" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mime_type_handler</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns MIME type handler.</p>
          
          

          
          <div class="method-source-code" id="mime_type_handler-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 781</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mime_type_handler</span>
  <span class="ruby-identifier">@@mime_type_handler</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mime_type_handler-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-c-get_mime_type_func">get_mime_type_func</a>
        </div>
        

        
      </div><!-- mime_type_handler-method -->

    
      <div id="method-c-mime_type_handler-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mime_type_handler=</span><span
            class="method-args">(handler)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets MIME type handler.</p>

<p>handler must respond to :call with a single argument :path and returns a
MIME type <a href="../String.html">String</a> e.g. &#39;text/html&#39;.
When the handler returns nil or an empty <a
href="../String.html">String</a>, &#39;application/octet-stream&#39; is
used.</p>

<p>When you set nil to the handler, <a
href="Message.html#method-c-internal_mime_type">::internal_mime_type</a> is
used instead. The handler is nil by default.</p>
          
          

          
          <div class="method-source-code" id="mime_type_handler-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 776</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mime_type_handler=</span>(<span class="ruby-identifier">handler</span>)
  <span class="ruby-identifier">@@mime_type_handler</span> = <span class="ruby-identifier">handler</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mime_type_handler-3D-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-c-set_mime_type_func">set_mime_type_func</a>
        </div>
        

        
      </div><!-- mime_type_handler-3D-method -->

    
      <div id="method-c-multiparam_query-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">multiparam_query?</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if the given query (or body) has a multiple parameter.</p>
          
          

          
          <div class="method-source-code" id="multiparam_query-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">multiparam_query?</span>(<span class="ruby-identifier">query</span>)
  <span class="ruby-identifier">query</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">query</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- multiparam_query-3F-source -->
          
        </div>

        

        
      </div><!-- multiparam_query-3F-method -->

    
      <div id="method-c-new_connect_request" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_connect_request</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a <a href="Message.html">Message</a> instance of &#39;CONNECT&#39;
request. &#39;CONNECT&#39; request does not have <a
href="Message/Body.html">Body</a>.</p>
<dl class="rdoc-list note-list"><dt>uri
<dd>
<p>an <a href="../URI.html">URI</a> that need to connect.  Only uri.host and
uri.port are used.</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="new_connect_request-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_connect_request</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">init_connect_request</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">body_size</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new_connect_request-source -->
          
        </div>

        

        
      </div><!-- new_connect_request-method -->

    
      <div id="method-c-new_request" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_request</span><span
            class="method-args">(method, uri, query = nil, body = nil, boundary = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a <a href="Message.html">Message</a> instance of general request.</p>
<dl class="rdoc-list note-list"><dt>method
<dd>
<p><a href="../HTTP.html">HTTP</a> method <a href="../String.html">String</a>.</p>
</dd><dt>uri
<dd>
<p>an <a href="../URI.html">URI</a> object which represents an URL of web
resource.</p>
</dd><dt>query
<dd>
<p>a Hash or an <a href="Message/Array.html">Array</a> of query part of URL.
e.g. { “a” =&gt; “b” } =&gt; &#39;<a
href="http://host/part?a=b">host/part?a=b</a>&#39; Give an array to pass
multiple value like</p>
<dl class="rdoc-list label-list"><dt>[“a”, “b”], [“a”, “c”]
<dd>
<h1 id="method-c-new_request-label-%3E+%27http%3A%2F%2Fhost%2Fpart%3Fa%3Db%26a%3Dc%27">&gt; &#39;<a href="http://host/part?a=b&a=c">host/part?a=b&a=c</a>&#39;<span><a href="#method-c-new_request-label-%3E+%27http%3A%2F%2Fhost%2Fpart%3Fa%3Db%26a%3Dc%27">&para;</a> <a href="#documentation">&uarr;</a></span></h1>
</dd></dl>
</dd><dt>body
<dd>
<p>a Hash or an <a href="Message/Array.html">Array</a> of body part. e.g. {
“a” =&gt; “b” } =&gt; &#39;a=b&#39;. Give an array to pass multiple value
like</p>
<dl class="rdoc-list label-list"><dt>[“a”, “b”], [“a”, “c”]
<dd>
<h1 id="method-c-new_request-label-%3E+%27a%3Db%26a%3Dc%27.">&gt; &#39;a=b&amp;a=c&#39;.<span><a href="#method-c-new_request-label-%3E+%27a%3Db%26a%3Dc%27.">&para;</a> <a href="#documentation">&uarr;</a></span></h1>
</dd></dl>
</dd><dt>boundary
<dd>
<p>When the boundary given, it is sent as a multipart/form-data using this
boundary <a href="../String.html">String</a>.</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="new_request-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 740</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_request</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">query</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">boundary</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">init_request</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">query</span>)
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span> = <span class="ruby-constant">Body</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span>.<span class="ruby-identifier">init_request</span>(<span class="ruby-identifier">body</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;&#39;</span>, <span class="ruby-identifier">boundary</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">body</span>
    <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">body_size</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">chunked</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">body_size</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new_request-source -->
          
        </div>

        

        
      </div><!-- new_request-method -->

    
      <div id="method-c-new_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_response</span><span
            class="method-args">(body, req = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a <a href="Message.html">Message</a> instance of response.</p>
<dl class="rdoc-list note-list"><dt>body
<dd>
<p>a <a href="../String.html">String</a> or an IO of response message body.</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="new_response-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 756</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_response</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">req</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">init_response</span>(<span class="ruby-constant">Status</span><span class="ruby-operator">::</span><span class="ruby-constant">OK</span>, <span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span> = <span class="ruby-constant">Body</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span>.<span class="ruby-identifier">init_response</span>(<span class="ruby-identifier">body</span>)
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">body_size</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">http_body</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new_response-source -->
          
        </div>

        

        
      </div><!-- new_response-method -->

    
      <div id="method-c-parse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>from CGI.parse</p>
          
          

          
          <div class="method-source-code" id="parse-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 904</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">query</span>)
  <span class="ruby-identifier">params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>([].<span class="ruby-identifier">freeze</span>)
  <span class="ruby-identifier">query</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/[&amp;;]/</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pairs</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;=&#39;</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">v</span>) }
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">push</span>(<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>] = [<span class="ruby-identifier">value</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- parse-source -->
          
        </div>

        

        
      </div><!-- parse-method -->

    
      <div id="method-c-set_mime_type_func" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">set_mime_type_func</span><span
            class="method-args">(handler)</span>
          
        </div>
        

        <div class="method-description">
          
          <p>For backward compatibility.</p>
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-c-mime_type_handler-3D">mime_type_handler=</a>
        </div>
        
      </div><!-- set_mime_type_func-method -->

    
      <div id="method-c-unescape" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unescape</span><span
            class="method-args">(string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>from CGI.unescape</p>
          
          

          
          <div class="method-source-code" id="unescape-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 918</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-string">&#39;+&#39;</span>, <span class="ruby-string">&#39; &#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/((?:%[0-9a-fA-F]{2})+)/</span>) <span class="ruby-keyword">do</span>
    [<span class="ruby-node">$1</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;%&#39;</span>)].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;H*&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unescape-source -->
          
        </div>

        

        
      </div><!-- unescape-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-body" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">body</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-content">content</a>
        </div>
        
      </div><!-- body-method -->

    
      <div id="method-i-body-3D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">body=</span><span
            class="method-args">(body)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-http_body-3D">http_body=</a>
        </div>
        
      </div><!-- body-3D-method -->

    
      <div id="method-i-body_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">body_encoding</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns content encoding</p>
          
          

          
          <div class="method-source-code" id="body_encoding-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1028</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">body_encoding</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">body_encoding</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- body_encoding-source -->
          
        </div>

        

        
      </div><!-- body_encoding-method -->

    
      <div id="method-i-code" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">code</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-status">status</a>
        </div>
        
      </div><!-- code-method -->

    
      <div id="method-i-content" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a content of message body.  A <a href="../String.html">String</a>
or an IO.</p>
          
          

          
          <div class="method-source-code" id="content-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1033</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content</span>
  <span class="ruby-ivar">@http_body</span>.<span class="ruby-identifier">content</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- content-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-i-body">body</a>
        </div>
        

        
      </div><!-- content-method -->

    
      <div id="method-i-content_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns &#39;Content-Type&#39; header value.</p>
          
          

          
          <div class="method-source-code" id="content_type-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1016</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">content_type</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- content_type-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-i-contenttype">contenttype</a>
        </div>
        

        
      </div><!-- content_type-method -->

    
      <div id="method-i-content_type-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type=</span><span
            class="method-args">(content_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets &#39;Content-Type&#39; header value.  Overrides if already exists.</p>
          
          

          
          <div class="method-source-code" id="content_type-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1021</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type=</span>(<span class="ruby-identifier">content_type</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">content_type</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- content_type-3D-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-i-contenttype-3D">contenttype=</a>
        </div>
        

        
      </div><!-- content_type-3D-method -->

    
      <div id="method-i-contenttype" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">contenttype</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-content_type">content_type</a>
        </div>
        
      </div><!-- contenttype-method -->

    
      <div id="method-i-contenttype-3D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">contenttype=</span><span
            class="method-args">(content_type)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-content_type-3D">content_type=</a>
        </div>
        
      </div><!-- contenttype-3D-method -->

    
      <div id="method-i-cookies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cookies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extracts cookies from &#39;Set-Cookie&#39; header. Supports
&#39;Set-Cookie&#39; in response header only. Do we need &#39;Cookie&#39;
support in request header?</p>
          
          

          
          <div class="method-source-code" id="cookies-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1051</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cookies</span>
  <span class="ruby-identifier">set_cookies</span> = <span class="ruby-identifier">http_header</span>[<span class="ruby-string">&#39;set-cookie&#39;</span>]
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">request_uri</span>
    <span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">WebAgent</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">uri</span>)
    }.<span class="ruby-identifier">flatten</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cookies-source -->
          
        </div>

        

        
      </div><!-- cookies-method -->

    
      <div id="method-i-dump" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dump</span><span
            class="method-args">(dev = '')</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Dumps message (header and body) to given dev. dev needs to respond to
&lt;&lt;.</p>
          
          

          
          <div class="method-source-code" id="dump-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 951</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump</span>(<span class="ruby-identifier">dev</span> = <span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">dump</span> <span class="ruby-operator">+</span> <span class="ruby-constant">CRLF</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">chunked</span>
    <span class="ruby-identifier">dev</span> = <span class="ruby-ivar">@http_body</span>.<span class="ruby-identifier">dump_chunked</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">dev</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@http_body</span>
    <span class="ruby-identifier">dev</span> = <span class="ruby-ivar">@http_body</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">dev</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">dev</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">dev</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dump-source -->
          
        </div>

        

        
      </div><!-- dump-method -->

    
      <div id="method-i-headers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">headers</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns Hash of header. key and value are both <a
href="../String.html">String</a>. Each key has a single value so you
can&#39;t extract exact value when a message has multiple headers like
&#39;Set-Cookie&#39;. Use <a href="http://'Set-Cookie'">header</a> for that
purpose. (It returns an <a href="Message/Array.html">Array</a> always)</p>
          
          

          
          <div class="method-source-code" id="headers-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1044</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">headers</span>
  <span class="ruby-constant">Hash</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">http_header</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">flatten</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- headers-source -->
          
        </div>

        

        
      </div><!-- headers-method -->

    
      <div id="method-i-http_body-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_body=</span><span
            class="method-args">(body)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets a new body.  header.body_size is updated with new body.size.</p>
          
          

          
          <div class="method-source-code" id="http_body-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 964</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_body=</span>(<span class="ruby-identifier">body</span>)
  <span class="ruby-ivar">@http_body</span> = <span class="ruby-identifier">body</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">body_size</span> = <span class="ruby-ivar">@http_body</span>.<span class="ruby-identifier">size</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@http_header</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_body-3D-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-i-body-3D">body=</a>
        </div>
        

        
      </div><!-- http_body-3D-method -->

    
      <div id="method-i-http_version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_version</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns <a href="../HTTP.html">HTTP</a> version in a <a
href="../HTTP.html">HTTP</a> header.  <a href="../String.html">String</a>.</p>
          
          

          
          <div class="method-source-code" id="http_version-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 971</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_version</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">http_version</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_version-source -->
          
        </div>

        

        
      </div><!-- http_version-method -->

    
      <div id="method-i-http_version-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_version=</span><span
            class="method-args">(http_version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets <a href="../HTTP.html">HTTP</a> version in a <a
href="../HTTP.html">HTTP</a> header.  <a href="../String.html">String</a>.</p>
          
          

          
          <div class="method-source-code" id="http_version-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 976</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_version=</span>(<span class="ruby-identifier">http_version</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">http_version</span> = <span class="ruby-identifier">http_version</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_version-3D-source -->
          
        </div>

        

        
      </div><!-- http_version-3D-method -->

    
      <div id="method-i-ok-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ok?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Convenience method to return boolean of whether we had a successful request</p>
          
          

          
          <div class="method-source-code" id="ok-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1062</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ok?</span>
  <span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Status</span>.<span class="ruby-identifier">successful?</span>(<span class="ruby-identifier">status</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- ok-3F-source -->
          
        </div>

        

        
      </div><!-- ok-3F-method -->

    
      <div id="method-i-reason" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reason</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns  <a href="../HTTP.html">HTTP</a> status reason phrase in response. 
<a href="../String.html">String</a>.</p>
          
          

          
          <div class="method-source-code" id="reason-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1006</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reason</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">reason_phrase</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reason-source -->
          
        </div>

        

        
      </div><!-- reason-method -->

    
      <div id="method-i-reason-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reason=</span><span
            class="method-args">(reason)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets  <a href="../HTTP.html">HTTP</a> status reason phrase of response.  <a
href="../String.html">String</a>.</p>
          
          

          
          <div class="method-source-code" id="reason-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1011</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reason=</span>(<span class="ruby-identifier">reason</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">reason_phrase</span> = <span class="ruby-identifier">reason</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reason-3D-source -->
          
        </div>

        

        
      </div><!-- reason-3D-method -->

    
      <div id="method-i-redirect-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">redirect?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="redirect-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1066</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">redirect?</span>
  <span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Status</span>.<span class="ruby-identifier">redirect?</span>(<span class="ruby-identifier">status</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- redirect-3F-source -->
          
        </div>

        

        
      </div><!-- redirect-3F-method -->

    
      <div id="method-i-see_other-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">see_other?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>SEE_OTHER is a redirect, but it should sent as GET</p>
          
          

          
          <div class="method-source-code" id="see_other-3F-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1071</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">see_other?</span>
  <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Status</span><span class="ruby-operator">::</span><span class="ruby-constant">SEE_OTHER</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- see_other-3F-source -->
          
        </div>

        

        
      </div><!-- see_other-3F-method -->

    
      <div id="method-i-status" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">status</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns <a href="../HTTP.html">HTTP</a> status code in response.  Integer.</p>
          
          

          
          <div class="method-source-code" id="status-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 992</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">status</span>
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">status_code</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- status-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Message.html#method-i-code">code</a>, <a href="Message.html#method-i-status_code">status_code</a>
        </div>
        

        
      </div><!-- status-method -->

    
      <div id="method-i-status-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">status=</span><span
            class="method-args">(status)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets <a href="../HTTP.html">HTTP</a> status code of response.  Integer.
Reason phrase is updated, too.</p>
          
          

          
          <div class="method-source-code" id="status-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 1001</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">status=</span>(<span class="ruby-identifier">status</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">status_code</span> = <span class="ruby-identifier">status</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- status-3D-source -->
          
        </div>

        

        
      </div><!-- status-3D-method -->

    
      <div id="method-i-status_code" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">status_code</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Message.html#method-i-status">status</a>
        </div>
        
      </div><!-- status_code-method -->

    
      <div id="method-i-version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="version-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 981</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version</span>
  <span class="ruby-identifier">warn</span>(<span class="ruby-constant">VERSION_WARNING</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">http_version</span>.<span class="ruby-identifier">to_f</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- version-source -->
          
        </div>

        

        
      </div><!-- version-method -->

    
      <div id="method-i-version-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version=</span><span
            class="method-args">(version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="version-3D-source">
            <pre><span class="ruby-comment"># File lib/httpclient/http.rb, line 986</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version=</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">warn</span>(<span class="ruby-constant">VERSION_WARNING</span>)
  <span class="ruby-ivar">@http_header</span>.<span class="ruby-identifier">http_version</span> = <span class="ruby-identifier">version</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- version-3D-source -->
          
        </div>

        

        
      </div><!-- version-3D-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

