<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class MIME::Types - mime-types-2.5 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  
<div id="table-of-contents">
  <nav class="section">
    <h3 class="section-header">Table of Contents</h3>
    <ul>
      <li><a href="#label-The+Default+mime-types+Registry">The Default mime-types Registry</a>
      <li><a href="#label-Usage">Usage</a>
    </ul>
  </nav>
</div>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/mime/types.rb
    <li>lib/mime/types/cache.rb
    <li>lib/mime/types/loader.rb
    <li>lib/mime/types/loader_path.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Enumerable</span>
  
  
  
    <li><span class="include">Enumerable</span>
  
  
  </ul>
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-5B-5D">::[]</a>
    
    <li ><a href="#method-c-__types__">::__types__</a>
    
    <li ><a href="#method-c-add">::add</a>
    
    <li ><a href="#method-c-cache_file">::cache_file</a>
    
    <li ><a href="#method-c-count">::count</a>
    
    <li ><a href="#method-c-each">::each</a>
    
    <li ><a href="#method-c-lazy_load-3F">::lazy_load?</a>
    
    <li ><a href="#method-c-load_default_mime_types">::load_default_mime_types</a>
    
    <li ><a href="#method-c-load_from_file">::load_from_file</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-of">::of</a>
    
    <li ><a href="#method-c-type_for">::type_for</a>
    
    <li ><a href="#method-i-5B-5D">#[]</a>
    
    <li ><a href="#method-i-add">#add</a>
    
    <li ><a href="#method-i-add_type">#add_type</a>
    
    <li ><a href="#method-i-add_type_variant-21">#add_type_variant!</a>
    
    <li ><a href="#method-i-count">#count</a>
    
    <li ><a href="#method-i-each">#each</a>
    
    <li ><a href="#method-i-index_extensions-21">#index_extensions!</a>
    
    <li ><a href="#method-i-match">#match</a>
    
    <li ><a href="#method-i-of">#of</a>
    
    <li ><a href="#method-i-prune_matches">#prune_matches</a>
    
    <li ><a href="#method-i-type_for">#type_for</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../Contributing_rdoc.html">Contributing</a>
  
    <li class="file"><a href="../History-Types_rdoc.html">History-Types</a>
  
    <li class="file"><a href="../History_rdoc.html">History</a>
  
    <li class="file"><a href="../Licence_rdoc.html">Licence</a>
  
    <li class="file"><a href="../Manifest_txt.html">Manifest</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
    <li class="file"><a href="../docs/COPYING_txt.html">COPYING</a>
  
    <li class="file"><a href="../docs/artistic_txt.html">artistic</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../MIME.html">MIME</a>
  
    <li><a href="../MIME/Type.html">MIME::Type</a>
  
    <li><a href="../MIME/Type/InvalidContentType.html">MIME::Type::InvalidContentType</a>
  
    <li><a href="../MIME/Type/InvalidEncoding.html">MIME::Type::InvalidEncoding</a>
  
    <li><a href="../MIME/Types.html">MIME::Types</a>
  
    <li><a href="../MIME/Types/Cache.html">MIME::Types::Cache</a>
  
    <li><a href="../MIME/Types/Container.html">MIME::Types::Container</a>
  
    <li><a href="../MIME/Types/Loader.html">MIME::Types::Loader</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class MIME::Types</h1>

  <div id="description" class="description">
    
<p><a href="Types.html">MIME::Types</a> is a registry of <a
href="../MIME.html">MIME</a> types. It is both a class (created with <a
href="Types.html#method-c-new">::new</a>) and a default registry (loaded
automatically or through interactions with <a
href="Types.html">MIME::Types</a>.[] and <a
href="Types.html#method-i-type_for">#type_for</a>).</p>

<h2 id="label-The+Default+mime-types+Registry">The Default mime-types Registry<span><a href="#label-The+Default+mime-types+Registry">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>The default mime-types registry is loaded automatically when the library is
required (<code>require &#39;mime/types&#39;</code>), but it may be lazily
loaded (loaded on first use) with the use of the environment variable
<code>RUBY_MIME_TYPES_LAZY_LOAD</code> having any value other than
<code>false</code>. The initial startup is about 14× faster (~10 ms vs ~140
ms), but the registry will be loaded at some point in the future.</p>

<p>The default mime-types registry can also be loaded from a Marshal cache
file specific to the version of <a href="Types.html">MIME::Types</a> being
loaded. This will be handled automatically with the use of a file referred
to in the environment variable <code>RUBY_MIME_TYPES_CACHE</code>. <a
href="Types.html">MIME::Types</a> will attempt to load the registry from
this cache file (MIME::Type::Cache.load); if it cannot be loaded (because
the file does not exist, there is an error, or the data is for a different
version of mime-types), the default registry will be loaded from the normal
JSON version and then the cache file will be <strong>written</strong> to
the location indicated by <code>RUBY_MIME_TYPES_CACHE</code>. <a
href="Types/Cache.html">Cache</a> file loads just over 4½× faster (~30 ms
vs ~140 ms). loads.</p>

<p>Notes:</p>
<ul><li>
<p>The loading of the default registry is <strong>not</strong> atomic; when
using a multi-threaded environment, it is recommended that lazy loading is
not used and mime-types is loaded as early as possible.</p>
</li><li>
<p><a href="Types/Cache.html">Cache</a> files should be specified per
application in a multiprocess environment and should be initialized during
deployment or before forking to minimize the chance that the multiple
processes will be trying to write to the same cache file at the same time,
or that two applications that are on different versions of mime-types would
be thrashing the cache.</p>
</li><li>
<p>Unless cache files are preinitialized, the application using the mime-types
cache file must have read/write permission to the cache file.</p>
</li></ul>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;mime/types&#39;</span>

<span class="ruby-identifier">plaintext</span> = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>[<span class="ruby-string">&#39;text/plain&#39;</span>]
<span class="ruby-identifier">print</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">media_type</span>           <span class="ruby-comment"># =&gt; &#39;text&#39;</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">sub_type</span>             <span class="ruby-comment"># =&gt; &#39;plain&#39;</span>

<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>)  <span class="ruby-comment"># =&gt; &#39;asc txt c cc h hh cpp&#39;</span>

<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">encoding</span>              <span class="ruby-comment"># =&gt; 8bit</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">binary?</span>               <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">ascii?</span>                <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">obsolete?</span>             <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span>.<span class="ruby-identifier">registered?</span>           <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">plaintext</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;text/plain&#39;</span>       <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-string">&#39;x-appl/x-zip&#39;</span>) <span class="ruby-comment"># =&gt; &#39;appl/zip&#39;</span>
</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="Cache">Cache
        
        <dd class="description"><p>Caching of <a href="Types.html">MIME::Types</a> registries is advisable if
you will be loading the default registry relatively frequently. With the
class methods on <a href="Types/Cache.html">MIME::Types::Cache</a>, any <a
href="Types.html">MIME::Types</a> registry can be marshaled quickly and
easily.</p>

<p>The cache is invalidated on a per-version basis; a cache file for version
2.0 will not be reused with version 2.0.1.</p>
        
      
        <dt id="VERSION">VERSION
        
        <dd class="description"><p>The release version of Ruby <a href="Types.html">MIME::Types</a></p>
        
      
      </dl>
    </section>
    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-data_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">data_version</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The data version.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-5B-5D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(type_id, flags = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>MIME::Types#[] against the default <a href="Types.html">MIME::Types</a>
registry.</p>
          
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span> = {})
  <span class="ruby-identifier">__types__</span>[<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- 5B-5D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-method -->

    
      <div id="method-c-add" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add</span><span
            class="method-args">(*types)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Types.html#method-i-add">#add</a> against the default <a
href="Types.html">MIME::Types</a> registry.</p>
          
          

          
          <div class="method-source-code" id="add-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
  <span class="ruby-identifier">__types__</span>.<span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- add-source -->
          
        </div>

        

        
      </div><!-- add-method -->

    
      <div id="method-c-cache_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache_file</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the currently defined cache file, if any.</p>
          
          

          
          <div class="method-source-code" id="cache_file-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cache_file</span>
  <span class="ruby-constant">MIME</span>.<span class="ruby-identifier">deprecated</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">__method__</span>)
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RUBY_MIME_TYPES_CACHE&#39;</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- cache_file-source -->
          
        </div>

        

        
      </div><!-- cache_file-method -->

    
      <div id="method-c-count" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">count</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Types.html#method-i-count">#count</a> against the default <a
href="Types.html">MIME::Types</a> registry.</p>
          
          

          
          <div class="method-source-code" id="count-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">count</span>
  <span class="ruby-identifier">__types__</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- count-source -->
          
        </div>

        

        
      </div><!-- count-method -->

    
      <div id="method-c-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">() { |t| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Types.html#method-i-each">#each</a> against the default <a
href="Types.html">MIME::Types</a> registry.</p>
          
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">__types__</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">t</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">enum_for</span>(<span class="ruby-value">:each</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- each-source -->
          
        </div>

        

        
      </div><!-- each-method -->

    
      <div id="method-c-load_from_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_from_file</span><span
            class="method-args">(filename)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Load <a href="Types.html">MIME::Types</a> from a v1 file registry.</p>

<p>This method has been deprecated.</p>
          
          

          
          <div class="method-source-code" id="load_from_file-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_from_file</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-constant">MIME</span>.<span class="ruby-identifier">deprecated</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">__method__</span>)
  <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span><span class="ruby-operator">::</span><span class="ruby-constant">Loader</span>.<span class="ruby-identifier">load_from_v1</span>(<span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_from_file-source -->
          
        </div>

        

        
      </div><!-- load_from_file-method -->

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a new <a href="Types.html">MIME::Types</a> registry.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-ivar">@type_variants</span>    = <span class="ruby-constant">Container</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@extension_index</span>  = <span class="ruby-constant">Container</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@data_version</span>     = <span class="ruby-constant">VERSION</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
      <div id="method-c-of" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">of</span><span
            class="method-args">(filename, platform = false)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Types.html#method-c-type_for">type_for</a>
        </div>
        
      </div><!-- of-method -->

    
      <div id="method-c-type_for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">type_for</span><span
            class="method-args">(filename, platform = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Types.html#method-i-type_for">#type_for</a> against the default <a
href="Types.html">MIME::Types</a> registry.</p>
          
          

          
          <div class="method-source-code" id="type_for-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">__types__</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- type_for-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Types.html#method-c-of">of</a>
        </div>
        

        
      </div><!-- type_for-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="private-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Private Class Methods</h3>

    
      <div id="method-c-__types__" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">__types__</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="__types__-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">__types__</span>
  (<span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@__types__</span>) <span class="ruby-keyword">and</span> <span class="ruby-ivar">@__types__</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">load_default_mime_types</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- __types__-source -->
          
        </div>

        

        
      </div><!-- __types__-method -->

    
      <div id="method-c-lazy_load-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lazy_load?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="lazy_load-3F-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lazy_load?</span>
  (<span class="ruby-identifier">lazy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RUBY_MIME_TYPES_LAZY_LOAD&#39;</span>]) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">lazy</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;false&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- lazy_load-3F-source -->
          
        </div>

        

        
      </div><!-- lazy_load-3F-method -->

    
      <div id="method-c-load_default_mime_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_default_mime_types</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="load_default_mime_types-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_default_mime_types</span>
  <span class="ruby-ivar">@__types__</span> = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>.<span class="ruby-identifier">load</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@__types__</span>
    <span class="ruby-ivar">@__types__</span> = <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span><span class="ruby-operator">::</span><span class="ruby-constant">Loader</span>.<span class="ruby-identifier">load</span>
    <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>.<span class="ruby-identifier">save</span>(<span class="ruby-ivar">@__types__</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@__types__</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_default_mime_types-source -->
          
        </div>

        

        
      </div><!-- load_default_mime_types-method -->

    
    </section><!-- private-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(type_id, flags = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a list of <a href="Type.html">MIME::Type</a> objects, which may be
empty. The optional flag parameters are <code>:complete</code> (finds only
complete <a href="Type.html">MIME::Type</a> objects) and
<code>:registered</code> (finds only <a href="Types.html">MIME::Types</a>
that are registered). It is possible for multiple matches to be returned
for either type (in the example below, &#39;text/plain&#39; returns two
values – one for the general case, and one for VMS systems).</p>

<pre class="ruby"><span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;\nMIME::Types[&#39;text/plain&#39;]&quot;</span>
<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>[<span class="ruby-string">&#39;text/plain&#39;</span>].<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>) }

<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;\nMIME::Types[/^image/, complete: true]&quot;</span>
<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>[<span class="ruby-regexp">/^image/</span>, :<span class="ruby-identifier">complete</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>If multiple type definitions are returned, returns them sorted as follows:</p>

<pre>1. Complete definitions sort before incomplete ones;
2. IANA-registered definitions sort before LTSW-recorded
   definitions.
3. Generic definitions sort before platform-specific ones;
4. Current definitions sort before obsolete ones;
5. Obsolete definitions with use-instead clauses sort before those
   without;
6. Obsolete definitions use-instead clauses are compared.
7. Sort on name.</pre>

<p>An additional flag of :platform (finds only <a
href="Types.html">MIME::Types</a> for the current platform) is currently
supported but deprecated.</p>
          
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span> = {})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-value">:platform</span>]
    <span class="ruby-constant">MIME</span>.<span class="ruby-identifier">deprecated</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">__method__</span>, <span class="ruby-string">&quot;using the :platform flag&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">matches</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">type_id</span>
            <span class="ruby-keyword">when</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>
              <span class="ruby-ivar">@type_variants</span>[<span class="ruby-identifier">type_id</span>.<span class="ruby-identifier">simplified</span>]
            <span class="ruby-keyword">when</span> <span class="ruby-constant">Regexp</span>
              <span class="ruby-identifier">match</span>(<span class="ruby-identifier">type_id</span>)
            <span class="ruby-keyword">else</span>
              <span class="ruby-ivar">@type_variants</span>[<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">type_id</span>)]
            <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">prune_matches</span>(<span class="ruby-identifier">matches</span>, <span class="ruby-identifier">flags</span>).<span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">priority_compare</span>(<span class="ruby-identifier">b</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- 5B-5D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-method -->

    
      <div id="method-i-add" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add</span><span
            class="method-args">(*types)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Add one or more <a href="Type.html">MIME::Type</a> objects to the set of
known types. If the type is already known, a warning will be displayed.</p>

<p>The last parameter may be the value <code>:silent</code> or
<code>true</code> which will suppress duplicate <a
href="../MIME.html">MIME</a> type warnings.</p>
          
          

          
          <div class="method-source-code" id="add-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
  <span class="ruby-identifier">quiet</span> = ((<span class="ruby-identifier">types</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value">:silent</span>) <span class="ruby-keyword">or</span> (<span class="ruby-identifier">types</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>))

  <span class="ruby-identifier">types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mime_type</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">mime_type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Symbol</span>
      <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>
      <span class="ruby-identifier">variants</span> = <span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@type_variants</span>)
      <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">variants</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>, <span class="ruby-identifier">quiet</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
      <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">mime_type</span>, <span class="ruby-identifier">quiet</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">add_type</span>(<span class="ruby-identifier">mime_type</span>, <span class="ruby-identifier">quiet</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add-source -->
          
        </div>

        

        
      </div><!-- add-method -->

    
      <div id="method-i-add_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_type</span><span
            class="method-args">(mime_type, quiet = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Add a single <a href="Type.html">MIME::Type</a> object to the set of known
types. If the type is already known, a warning will be displayed. The
<code>quiet</code> parameter may be a truthy value to suppress that
warning.</p>
          
          

          
          <div class="method-source-code" id="add_type-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_type</span>(<span class="ruby-identifier">mime_type</span>, <span class="ruby-identifier">quiet</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">quiet</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@type_variants</span>[<span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">simplified</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">mime_type</span>)
    <span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;Type %s is already registered as a variant of %s.&#39;</span> <span class="ruby-operator">%</span>
         [ <span class="ruby-identifier">mime_type</span>, <span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">simplified</span> ])
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">add_type_variant!</span>(<span class="ruby-identifier">mime_type</span>)
  <span class="ruby-identifier">index_extensions!</span>(<span class="ruby-identifier">mime_type</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_type-source -->
          
        </div>

        

        
      </div><!-- add_type-method -->

    
      <div id="method-i-count" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">count</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the number of known type variants.</p>
          
          

          
          <div class="method-source-code" id="count-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">count</span>
  <span class="ruby-ivar">@type_variants</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">reduce</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">size</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- count-source -->
          
        </div>

        

        
      </div><!-- count-method -->

    
      <div id="method-i-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">() { |t| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Iterates through the type variants.</p>
          
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-ivar">@type_variants</span>.<span class="ruby-identifier">each_value</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tv</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tv</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">t</span> } }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">enum_for</span>(<span class="ruby-value">:each</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- each-source -->
          
        </div>

        

        
      </div><!-- each-method -->

    
      <div id="method-i-of" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">of</span><span
            class="method-args">(filename, platform = false)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Types.html#method-i-type_for">type_for</a>
        </div>
        
      </div><!-- of-method -->

    
      <div id="method-i-type_for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">type_for</span><span
            class="method-args">(filename, platform = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the list of <a href="Types.html">MIME::Types</a> which belongs to
the file based on its filename extension. If there is no extension, the
filename will be used as the matching criteria on its own.</p>

<p>This will always return a merged, flatten, priority sorted, unique array.</p>

<pre class="ruby"><span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-string">&#39;citydesk.xml&#39;</span>)
  =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">application</span><span class="ruby-operator">/</span><span class="ruby-identifier">xml</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">/</span><span class="ruby-identifier">xml</span>]
<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-string">&#39;citydesk.gif&#39;</span>)
  =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">image</span><span class="ruby-operator">/</span><span class="ruby-identifier">gif</span>]
<span class="ruby-identifier">puts</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-node">%w(citydesk.xml citydesk.gif)</span>)
  =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">application</span><span class="ruby-operator">/</span><span class="ruby-identifier">xml</span>, <span class="ruby-identifier">image</span><span class="ruby-operator">/</span><span class="ruby-identifier">gif</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">/</span><span class="ruby-identifier">xml</span>]
</pre>

<p>If <code>platform</code> is <code>true</code>, then only file types that
are specific to the current platform will be returned. This parameter has
been deprecated.</p>
          
          

          
          <div class="method-source-code" id="type_for-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">types</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">filename</span>).<span class="ruby-identifier">flat_map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">fn</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@extension_index</span>[<span class="ruby-identifier">fn</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">downcase</span>[<span class="ruby-regexp">/\.?([^.]*?)$/</span>, <span class="ruby-value">1</span>]]
  }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">priority_compare</span>(<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">uniq</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">platform</span>
    <span class="ruby-constant">MIME</span>.<span class="ruby-identifier">deprecated</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">__method__</span>,
                    <span class="ruby-string">&quot;using the platform parameter&quot;</span>)
    <span class="ruby-identifier">types</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:platform?</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">types</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- type_for-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Types.html#method-i-of">of</a>
        </div>
        

        
      </div><!-- type_for-method -->

    
    </section><!-- public-instance-method-details -->
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Private Instance Methods</h3>

    
      <div id="method-i-add_type_variant-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_type_variant!</span><span
            class="method-args">(mime_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="add_type_variant-21-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_type_variant!</span>(<span class="ruby-identifier">mime_type</span>)
  <span class="ruby-ivar">@type_variants</span>[<span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">simplified</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">mime_type</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_type_variant-21-source -->
          
        </div>

        

        
      </div><!-- add_type_variant-21-method -->

    
      <div id="method-i-index_extensions-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">index_extensions!</span><span
            class="method-args">(mime_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="index_extensions-21-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">index_extensions!</span>(<span class="ruby-identifier">mime_type</span>)
  <span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ext</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@extension_index</span>[<span class="ruby-identifier">ext</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">mime_type</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- index_extensions-21-source -->
          
        </div>

        

        
      </div><!-- index_extensions-21-method -->

    
      <div id="method-i-match" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match</span><span
            class="method-args">(pattern)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="match-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match</span>(<span class="ruby-identifier">pattern</span>)
  <span class="ruby-ivar">@type_variants</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">pattern</span> }.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- match-source -->
          
        </div>

        

        
      </div><!-- match-method -->

    
      <div id="method-i-prune_matches" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prune_matches</span><span
            class="method-args">(matches, flags)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="prune_matches-source">
            <pre><span class="ruby-comment"># File lib/mime/types.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prune_matches</span>(<span class="ruby-identifier">matches</span>, <span class="ruby-identifier">flags</span>)
  <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">complete?</span> } <span class="ruby-keyword">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-value">:complete</span>]
  <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">platform?</span> } <span class="ruby-keyword">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-value">:platform</span>]
  <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">registered?</span> } <span class="ruby-keyword">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-value">:registered</span>]
  <span class="ruby-identifier">matches</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- prune_matches-source -->
          
        </div>

        

        
      </div><!-- prune_matches-method -->

    
    </section><!-- private-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

